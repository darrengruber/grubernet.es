<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><link href=//gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=generator content="Hugo 0.53"><meta name=viewport content="width=device-width,initial-scale=1"><title>Automating my blog with hugo, Github, CircleCI and Docker for $0 &middot; grubernet.es</title><link type=text/css rel=stylesheet href=https://grubernet.es/css/print.css media=print><link type=text/css rel=stylesheet href=https://grubernet.es/css/poole.css><link type=text/css rel=stylesheet href=https://grubernet.es/css/syntax.css><link type=text/css rel=stylesheet href=https://grubernet.es/css/hyde.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700"><link href="https://fonts.googleapis.com/css?family=Ubuntu" rel=stylesheet><link rel=icon type=image/png href=/favicon-196x196.png sizes=196x196><link rel=icon type=image/png href=/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicon-128.png sizes=128x128><link href rel=alternate type=application/rss+xml title=grubernet.es></head><body><aside class=sidebar><div class="container sidebar-sticky"><img src=https://grubernet.es//HELLO.JPG><div class=sidebar-about><a href=https://grubernet.es/><h1>grubernet.es</h1></a><p class=lead>rantings on automation, containers and security</p></div><hr><nav><ul class=sidebar-nav><li><a href=https://github.com/darrengruber target=_blank><span>github.com/darrengruber</span></a></li><li><a href=https://hub.docker.com/u/darren target=_blank><span>hub.docker.com/u/darren</span></a></li></ul></nav><p></p></div></aside><main class="content container"><div class=post><h1>Automating my blog with hugo, Github, CircleCI and Docker for $0</h1><time datetime=2019-01-05T16:12:07-0500 class=post-date>Sat, Jan 5, 2019</time><figure><img src=/internet.jpg alt="This is how it works"></figure><p>If you&rsquo;re going to host a simple blog on the internet - especially one that
deals with scaling and security - there&rsquo;s a lot of things that it should be:</p><ul><li><p><strong>durable</strong> - Unless you&rsquo;re doing something fancy and require a full blown
CMS like Wordpress, using a static site generator is a good idea. Not having
database or a server to maintain or scale will ensure that your blog will stay
up even if you&rsquo;re being &ldquo;hugged to death&rdquo; by reddit or HN.</p></li><li><p><strong>secure</strong> - If you&rsquo;re only hosting a bunch of static files, the surface
for an attack is <em>greatly</em> reduced. You should also have TLS at the bare
minimum. There&rsquo;s really no excuse not to because of the
<a href=https://letsencrypt.org>Let&rsquo;s Encrypt</a><sup>üòç</sup> project.</p></li><li><p><strong>inexpensive</strong> - Hosting your own blogging platform shouldn&rsquo;t be a drain
on funds, especially if you aren&rsquo;t being paid to do it. Thankfully static
hosting is extremely cheap or even free in some cases. If the host doesn&rsquo;t
have some sort of CDN with HTTPS in front of it, you can always set it up on
<a href=https://www.cloudflare.com>Cloudflare</a><sup>‚ù§Ô∏è</sup> which is offers both for free.</p></li><li><p><strong>easy to use</strong> - Markdown<sup class=footnote-ref id=fnref:1><a href=#fn:1>1</a></sup> is easy to write and moderately readable,
<a href=https://raw.githubusercontent.com/darrengruber/grubernet.es/master/content/automating-my-blog-with-hugo-github-circleci-and-docker.md>even in an unrendered form</a>. Having website content as files makes it easy to version control
and edit/preview directly within Github.</p></li></ul><p></p><p>Beyond those things that you&rsquo;d want for any blog, I wanted to go a little
further for when I built this site:</p><ul><li><p><strong>&ldquo;open source&rdquo;</strong> - Reading (and sometimes wholesale copying) how other
people have solved technical problems is a great way to learn. I&rsquo;d actually
be really jazzed if somebody went as far as to open a pull request against a
typo or misinformation posted on my website.</p></li><li><p><strong>continuously integrated and deployed</strong> - A good chance to use some of the
best practices associated with CI/CD. I&rsquo;m a firm believer things are moving
toward a <a href=https://www.weave.works/blog/gitops-operations-by-pull-request>GitOps</a>
mentality, so why not center everything around</p></li><li><p><strong>reproduceable</strong> - All the dependencies to build, edit and test this site
are self contained within this repo. You get started pretty quickly before
ever needing to publish to the web.</p></li><li><p><strong>content focused</strong> - Simple, easy to read theme. No distractions, ads, sidebars, etc. Kind of like how medium.com used to be before they clobbered
visitors with the huge interstitial</p></li></ul><p>If you haven&rsquo;t been scared away yet, let&rsquo;s get started üòÖ</p><h2 id=picking-a-static-file-host>Picking a static file host</h2><p><a href=https://pages.github.com/>Github Pages</a> was a clear winner for me. They
support <a href=https://help.github.com/articles/using-a-custom-domain-with-github-pages/>custom domains</a> and <a href=https://blog.github.com/2018-05-01-github-pages-custom-domains-https/>automatically add Let&rsquo;s Encrypt certificates for you</a>.</p><p>In the past, I&rsquo;d opt for using S3 &amp; Cloudfront.</p><h2 id=getting-started-with-hugo-and-setting-up-your-repository>Getting started with <code>hugo</code> and setting up your repository</h2><p>I don&rsquo;t want to go too deep on why I settled on <code>hugo</code> over something like
<code>jekyll</code>, which has a deeper integration with Github Pages and has probably has
a lot more extensibility through plugins. There&rsquo;s been a shift toward using
statically linked <code>go</code> binaries and I tend to prefer them over having to install
Ruby.</p><div class=footnotes><hr><ol><li id=fn:1>Markdown is an overloaded term. Different rendering engines handle different &ldquo;flavors&rdquo; of Markdown, the most popular being &ldquo;Github flavored&rdquo;. <code>hugo</code> uses the <a href=https://github.com/russross/blackfriday#extensions><code>blackfriday</code></a> rendering engine for Markdown but also has &ldquo;<a href=https://gohugo.io/content-management/shortcodes/>shortcodes</a>&rdquo; which go even further in extending the type of content you can render.
<a class=footnote-return href=#fnref:1><sup>[return]</sup></a></li></ol></div></div></main></body></html>